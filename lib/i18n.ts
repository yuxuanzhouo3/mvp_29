export type UiLocale = "zh" | "en" | "ja" | "es" | "fr" | "de" | "ko" | "pt"

export type UiLocaleOption = {
  value: UiLocale
  label: string
  flag: string
  htmlLang: string
}

export const UI_LOCALES: UiLocaleOption[] = [
  { value: "en", label: "English", flag: "ğŸ‡ºğŸ‡¸", htmlLang: "en" },
  { value: "zh", label: "ä¸­æ–‡", flag: "ğŸ‡¨ğŸ‡³", htmlLang: "zh-CN" },
  { value: "ja", label: "æ—¥æœ¬èª", flag: "ğŸ‡¯ğŸ‡µ", htmlLang: "ja" },
  { value: "es", label: "EspaÃ±ol", flag: "ğŸ‡ªğŸ‡¸", htmlLang: "es" },
  { value: "fr", label: "FranÃ§ais", flag: "ğŸ‡«ğŸ‡·", htmlLang: "fr" },
  { value: "de", label: "Deutsch", flag: "ğŸ‡©ğŸ‡ª", htmlLang: "de" },
  { value: "ko", label: "í•œêµ­ì–´", flag: "ğŸ‡°ğŸ‡·", htmlLang: "ko" },
  { value: "pt", label: "PortuguÃªs", flag: "ğŸ‡§ğŸ‡·", htmlLang: "pt-BR" },
]

type MessageValue = string | ((params: Record<string, unknown>) => string)

const messages: Partial<Record<UiLocale, Record<string, MessageValue>>> = {
  zh: {
    "app.name": "MornSpeaker",
    "common.settings": "è®¾ç½®",
    "common.logout": "é€€å‡ºç™»å½•",
    "common.clearChat": "æ¸…ç©ºèŠå¤©",
    "common.copy": "å¤åˆ¶",
    "common.copied": "å·²å¤åˆ¶",
    "common.cancel": "å–æ¶ˆ",
    "common.leave": "ç¦»å¼€",
    "common.roomId": "æˆ¿é—´å·",
    "common.or": "æˆ–è€…",
    "header.subtitle.default": "å®æ—¶è¯­éŸ³ç¿»è¯‘",
    "header.online": ({ count }) => `${Number(count)} ä½ç”¨æˆ·åœ¨çº¿`,
    "header.messages": ({ count }) => `${Number(count)} æ¡æ¶ˆæ¯`,
    "roomJoin.title": "åŠ å…¥è¯­éŸ³èŠå¤©",
    "roomJoin.subtitle": "è¿æ¥æ¥è‡ªä¸–ç•Œå„åœ°çš„ç”¨æˆ·",
    "roomJoin.nicknameLabel": "æ‚¨çš„æ˜µç§°",
    "roomJoin.nicknamePlaceholder": "è¾“å…¥æ‚¨çš„æ˜µç§°",
    "roomJoin.roomIdLabel": "æˆ¿é—´å·",
    "roomJoin.roomIdPlaceholder": "è¾“å…¥æˆ¿é—´å·æˆ–åˆ›å»ºæ–°æˆ¿é—´",
    "roomJoin.roomIdHelp": "å°†æ­¤IDåˆ†äº«ç»™ä»–äººä»¥åŠ å…¥åŒä¸€å¯¹è¯",
    "roomJoin.tabJoin": "åŠ å…¥æˆ¿é—´",
    "roomJoin.tabCreate": "åˆ›å»ºæˆ¿é—´",
    "roomJoin.join": "åŠ å…¥æˆ¿é—´",
    "roomJoin.create": "åˆ›å»ºæˆ¿é—´",
    "roomJoin.quickJoin": "å¿«é€ŸåŠ å…¥ (éšæœºæˆ¿é—´)",
    "roomJoin.updateNameFailed": "æ˜µç§°æ›´æ–°å¤±è´¥",
    "roomJoin.retryLater": "è¯·ç¨åé‡è¯•",
    "roomJoin.checkingRoom": "æ£€æŸ¥æˆ¿é—´ä¸­...",
    "roomJoin.roomPublic": "å…¬å¼€",
    "roomJoin.roomProtected": "éœ€è¦å¯†ç ",
    "roomJoin.roomWillBeCreated": "å°†åˆ›å»º",
    "roomJoin.createSettingsTitle": "åˆ›å»ºè®¾ç½®",
    "roomJoin.createSettingsHint": "ä»…åœ¨è¯¥æˆ¿é—´å·é¦–æ¬¡åˆ›å»ºæ—¶ç”Ÿæ•ˆ",
    "roomJoin.joinModePublic": "å…¬å¼€åŠ å…¥",
    "roomJoin.joinModePublicDesc": "ä»»ä½•äººéƒ½å¯ä»¥åŠ å…¥",
    "roomJoin.joinModePassword": "å¯†ç åŠ å…¥",
    "roomJoin.joinModePasswordDesc": "åŠ å…¥éœ€è¦è¾“å…¥æˆ¿ä¸»è®¾ç½®çš„å¯†ç ",
    "roomJoin.passwordLabel": "æˆ¿é—´å¯†ç ",
    "roomJoin.passwordPlaceholder": "è¾“å…¥æˆ¿é—´å¯†ç ",
    "roomJoin.createPasswordLabel": "è®¾ç½®æˆ¿é—´å¯†ç ",
    "roomJoin.createPasswordPlaceholder": "ä¸ºæ–°æˆ¿é—´è®¾ç½®ä¸€ä¸ªå¯†ç ",
    "language.source": "æˆ‘çš„è¯­è¨€ (è¯´/å¬)",
    "language.target": "ç›®æ ‡è¯­è¨€ (æ”¶å¬)",
    "language.hint": ({ source, target }) => `è¯´ ${String(source)}ï¼Œå¬åˆ°ç¿»è¯‘åçš„ ${String(target)}`,
    "chat.empty.title": "å¼€å§‹å¯¹è¯",
    "chat.empty.desc": "æŒ‰ä½éº¦å…‹é£æŒ‰é’®å¼€å§‹è¯´è¯ã€‚æ‚¨çš„è¯­éŸ³å°†å®æ—¶ç¿»è¯‘å¹¶å‘é€ç»™æˆ¿é—´å†…çš„å…¶ä»–ç”¨æˆ·ã€‚",
    "voice.processing": "æ­£åœ¨è½¬å†™å’Œç¿»è¯‘...",
    "voice.recording": "æ­£åœ¨å½•éŸ³...",
    "voice.hintRelease": "æ¾å¼€åå‘é€",
    "voice.hintHold": "æŒ‰ä½è¯´è¯",
    "voice.micPermissionAlert": "æ— æ³•å¼€å§‹å½•éŸ³ï¼Œè¯·æ£€æŸ¥éº¦å…‹é£æƒé™ã€‚",
    "voice.liveCaptionTitle": "å®æ—¶å­—å¹•",
    "voice.liveTranslationTitle": "å®æ—¶ç¿»è¯‘",
    "voice.liveUnsupported": "å½“å‰æµè§ˆå™¨ä¸æ”¯æŒå®æ—¶å­—å¹•é¢„è§ˆï¼ˆä»ä¼šåœ¨æ¾å¼€åæ­£å¸¸å‘é€ï¼‰ã€‚",
    "users.title": ({ count }) => `åœ¨çº¿ç”¨æˆ· (${Number(count)})`,
    "users.you": "(æ‚¨)",
    "users.online": "åœ¨çº¿",
    "users.admin": "ç®¡ç†å‘˜",
    "users.kick": "è¸¢å‡º",
    "users.kickConfirmTitle": "ç¡®è®¤è¸¢å‡ºæ­¤ç”¨æˆ·ï¼Ÿ",
    "users.kickConfirmDesc": "è¢«è¸¢å‡ºçš„ç”¨æˆ·å°†ç«‹å³ç¦»å¼€æˆ¿é—´ã€‚",
    "toast.copiedTitle": "å·²å¤åˆ¶ï¼",
    "toast.copiedDesc": "æˆ¿é—´å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿",
    "toast.joinedTitle": "å·²åŠ å…¥æˆ¿é—´",
    "toast.joinedDesc": ({ roomId }) => `æ¬¢è¿æ¥åˆ° ${String(roomId)}!`,
    "toast.leftTitle": "å·²ç¦»å¼€æˆ¿é—´",
    "toast.leftDesc": "æ‚¨å·²æ–­å¼€èŠå¤©è¿æ¥ã€‚",
    "toast.expiredTitle": "æˆ¿é—´å·²è¿‡æœŸ",
    "toast.expiredDesc": "è¯¥æˆ¿é—´å·²è¶…è¿‡ 24 å°æ—¶æ— èŠå¤©æ¶ˆæ¯ï¼Œå·²è‡ªåŠ¨åˆ é™¤ã€‚",
    "toast.roomUnavailableTitle": "æˆ¿é—´ä¸å¯ç”¨",
    "toast.roomUnavailableDesc": "æˆ¿é—´ä¸å­˜åœ¨æˆ–å·²è¢«é‡ç½®ï¼Œè¯·é‡æ–°åŠ å…¥ã€‚",
    "toast.sentTitle": "æ¶ˆæ¯å·²å‘é€",
    "toast.sentDesc": ({ language }) => `æ­£åœ¨ä»¥ ${String(language)} å¹¿æ’­`,
    "toast.errorTitle": "é”™è¯¯",
    "toast.joinFailed": "åŠ å…¥æˆ¿é—´å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚",
    "toast.passwordRequired": "è¯¥æˆ¿é—´éœ€è¦å¯†ç ï¼Œè¯·è¾“å…¥åé‡è¯•ã€‚",
    "toast.passwordInvalid": "æˆ¿é—´å¯†ç é”™è¯¯æˆ–æœªå¡«å†™ã€‚",
    "toast.kickedTitle": "å·²è¢«ç§»å‡ºæˆ¿é—´",
    "toast.kickedDesc": "ç®¡ç†å‘˜å·²å°†æ‚¨ç§»å‡ºè¯¥æˆ¿é—´ã€‚",
    "toast.kickFailed": "è¸¢äººå¤±è´¥ï¼Œè¯·é‡è¯•ã€‚",
    "toast.kickSuccessTitle": "å·²è¸¢å‡ºç”¨æˆ·",
    "toast.kickSuccessDesc": "è¯¥ç”¨æˆ·å·²è¢«ç§»å‡ºæˆ¿é—´ã€‚",
    "toast.roomSettingsSavedTitle": "æˆ¿é—´è®¾ç½®å·²ä¿å­˜",
    "toast.roomSettingsSavedDesc": "åŠ å…¥æƒé™å·²æ›´æ–°ã€‚",
    "toast.roomSettingsSaveFailed": "ä¿å­˜æˆ¿é—´è®¾ç½®å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚",
    "toast.processFailed": "å¤„ç†æ‚¨çš„è¯­éŸ³å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚",
    "toast.chatClearedTitle": "èŠå¤©å·²æ¸…ç©º",
    "toast.chatClearedDesc": "æ‰€æœ‰æ¶ˆæ¯å·²ç§»é™¤ã€‚",
    "roomSettings.title": "æˆ¿é—´è®¾ç½®",
    "roomSettings.desc": "ä»…ç®¡ç†å‘˜å¯ä¿®æ”¹åŠ å…¥æƒé™ã€‚",
    "roomSettings.joinModeLabel": "åŠ å…¥æƒé™",
    "roomSettings.joinModePublic": "å…¬å¼€åŠ å…¥",
    "roomSettings.joinModePublicDesc": "ä»»ä½•äººéƒ½å¯ä»¥åŠ å…¥è¯¥æˆ¿é—´",
    "roomSettings.joinModePassword": "å¯†ç åŠ å…¥",
    "roomSettings.joinModePasswordDesc": "åŠ å…¥éœ€è¦è¾“å…¥å¯†ç ",
    "roomSettings.passwordLabel": "æˆ¿é—´å¯†ç ",
    "roomSettings.passwordPlaceholder": "ç•™ç©ºè¡¨ç¤ºä¸ä¿®æ”¹åŸå¯†ç ",
    "roomSettings.save": "ä¿å­˜",
    "roomSettings.saving": "ä¿å­˜ä¸­...",
    "settings.title": "è®¾ç½®",
    "settings.desc": "è‡ªå®šä¹‰æ‚¨çš„ MornSpeaker ä½“éªŒ",
    "settings.account": "è´¦å·",
    "settings.email": "é‚®ç®±",
    "settings.nickname": "æ˜µç§°",
    "settings.nicknamePlaceholder": "è¯·è¾“å…¥æ˜µç§°",
    "settings.avatar": "å¤´åƒé“¾æ¥ï¼ˆå¯é€‰ï¼‰",
    "settings.avatarPlaceholder": "https://...",
    "settings.saveAccount": "ä¿å­˜è´¦å·ä¿¡æ¯",
    "settings.saving": "ä¿å­˜ä¸­...",
    "settings.profileNotLoggedInDesc": "è¯·å…ˆç™»å½•åå†ä¿®æ”¹è´¦å·ä¿¡æ¯ã€‚",
    "settings.nicknameRequiredTitle": "æ˜µç§°ä¸èƒ½ä¸ºç©º",
    "settings.nicknameRequiredDesc": "è¯·å¡«å†™æ˜µç§°åå†ä¿å­˜ã€‚",
    "settings.profileSavedTitle": "å·²ä¿å­˜",
    "settings.profileSavedDesc": "è´¦å·ä¿¡æ¯å·²æ›´æ–°ã€‚",
    "settings.profileSaveFailedTitle": "ä¿å­˜å¤±è´¥",
    "settings.profileSaveFailedDesc": "è¯·ç¨åé‡è¯•ã€‚",
    "settings.password": "ä¿®æ”¹å¯†ç ",
    "settings.newPassword": "æ–°å¯†ç ",
    "settings.confirmPassword": "ç¡®è®¤å¯†ç ",
    "settings.updatePassword": "æ›´æ–°å¯†ç ",
    "settings.updatingPassword": "æ›´æ–°ä¸­...",
    "settings.notLoggedInTitle": "æœªç™»å½•",
    "settings.notLoggedInDesc": "è¯·å…ˆç™»å½•åå†ä¿®æ”¹å¯†ç ã€‚",
    "settings.passwordTooShortTitle": "å¯†ç è¿‡çŸ­",
    "settings.passwordTooShortDesc": "å¯†ç è‡³å°‘ 6 ä½ã€‚",
    "settings.passwordMismatchTitle": "ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´",
    "settings.passwordMismatchDesc": "è¯·ç¡®è®¤ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ç›¸åŒã€‚",
    "settings.passwordUpdatedTitle": "å¯†ç å·²æ›´æ–°",
    "settings.passwordUpdatedDesc": "è¯·ä½¿ç”¨æ–°å¯†ç é‡æ–°ç™»å½•ã€‚",
    "settings.updateFailedTitle": "ä¿®æ”¹å¯†ç å¤±è´¥",
    "settings.updateFailedDesc": "è¯·ç¨åé‡è¯•ã€‚",
    "settings.appearance": "å¤–è§‚",
    "settings.darkMode": "æ·±è‰²æ¨¡å¼",
    "settings.audio": "è¯­éŸ³",
    "settings.autoPlay": "è‡ªåŠ¨æ’­æ”¾ç¿»è¯‘",
    "settings.speechRate": "è¯­é€Ÿ",
    "settings.speechVolume": "éŸ³é‡",
    "settings.platform": "å¹³å°",
    "settings.platform.web": "ç½‘é¡µç‰ˆ",
    "settings.platform.wechat": "å¾®ä¿¡å°ç¨‹åº",
    "settings.platform.android": "å®‰å“",
    "settings.platform.ios": "iOS",
    "settings.platform.desktop": "æ¡Œé¢ç‰ˆ",
    "settings.data": "æ•°æ®",
    "settings.saveHistory": "ä¿å­˜èŠå¤©è®°å½•",
    "settings.export": "å¯¼å‡ºèŠå¤©è®°å½•",
    "settings.exportedTitle": "å·²å¯¼å‡º",
    "settings.exportedDesc": "èŠå¤©è®°å½•å·²ä¸‹è½½åˆ°æœ¬åœ°ã€‚",
    "settings.noDataTitle": "æ— å¯å¯¼å‡ºæ•°æ®",
    "settings.noDataDesc": "å½“å‰æ²¡æœ‰èŠå¤©è®°å½•ã€‚",
    "admin.sidebarTitle": "MornSpeaker åå°ç®¡ç†",
    "admin.title": "MornSpeaker åå°ç®¡ç†",
    "admin.overview": "æ¦‚è§ˆ",
    "admin.users": "ç”¨æˆ·ç®¡ç†",
    "admin.rooms": "æˆ¿é—´ç®¡ç†",
    "admin.ads": "å¹¿å‘Šç®¡ç†",
    "admin.loginTitle": "åå°ç®¡ç†ç™»å½•",
    "admin.loginDesc": "è¯·è¾“å…¥æ‚¨çš„è´¦å·å’Œå¯†ç ",
    "admin.email": "é‚®ç®±",
    "admin.password": "å¯†ç ",
    "admin.login": "ç™»å½•",
    "admin.loggingIn": "ç™»å½•ä¸­...",
  },
  en: {
    "app.name": "MornSpeaker",
    "common.settings": "Settings",
    "common.logout": "Sign out",
    "common.clearChat": "Clear chat",
    "common.copy": "Copy",
    "common.copied": "Copied",
    "common.cancel": "Cancel",
    "common.leave": "Leave",
    "common.roomId": "Room ID",
    "common.or": "Or",
    "header.subtitle.default": "Real-time voice translation",
    "header.online": ({ count }) => {
      const n = Number(count)
      return `${n} user${n === 1 ? "" : "s"} online`
    },
    "header.messages": ({ count }) => {
      const n = Number(count)
      return `${n} message${n === 1 ? "" : "s"}`
    },
    "roomJoin.title": "Join voice chat",
    "roomJoin.subtitle": "Connect with people around the world",
    "roomJoin.nicknameLabel": "Your name",
    "roomJoin.nicknamePlaceholder": "Enter your name",
    "roomJoin.roomIdLabel": "Room ID",
    "roomJoin.roomIdPlaceholder": "Enter a room ID or create a new one",
    "roomJoin.roomIdHelp": "Share this ID to let others join the same conversation",
    "roomJoin.tabJoin": "Join Room",
    "roomJoin.tabCreate": "Create Room",
    "roomJoin.join": "Join room",
    "roomJoin.create": "Create room",
    "roomJoin.quickJoin": "Quick join (random room)",
    "roomJoin.updateNameFailed": "Failed to update name",
    "roomJoin.retryLater": "Please try again later",
    "roomJoin.checkingRoom": "Checking room...",
    "roomJoin.roomPublic": "Public",
    "roomJoin.roomProtected": "Password",
    "roomJoin.roomWillBeCreated": "Will be created",
    "roomJoin.createSettingsTitle": "Create settings",
    "roomJoin.createSettingsHint": "Only applies if the room is created for the first time",
    "roomJoin.joinModePublic": "Public join",
    "roomJoin.joinModePublicDesc": "Anyone can join",
    "roomJoin.joinModePassword": "Password join",
    "roomJoin.joinModePasswordDesc": "A password is required to join",
    "roomJoin.passwordLabel": "Room password",
    "roomJoin.passwordPlaceholder": "Enter room password",
    "roomJoin.createPasswordLabel": "Set room password",
    "roomJoin.createPasswordPlaceholder": "Set a password for the new room",
    "language.source": "My language (speak/listen)",
    "language.target": "Target language (listen)",
    "language.hint": ({ source, target }) => `Speak ${String(source)} and listen in ${String(target)}`,
    "chat.empty.title": "Start a conversation",
    "chat.empty.desc": "Hold the mic button to speak. Your voice will be translated in real time and sent to others in the room.",
    "voice.processing": "Transcribing and translating...",
    "voice.recording": "Recording...",
    "voice.hintRelease": "Release to send",
    "voice.hintHold": "Hold to talk",
    "voice.micPermissionAlert": "Can't start recording. Please check microphone permissions.",
    "voice.liveCaptionTitle": "Live captions",
    "voice.liveTranslationTitle": "Live translation",
    "voice.liveUnsupported": "Live captions aren't supported in this browser (sending still works after release).",
    "users.title": ({ count }) => `Online users (${Number(count)})`,
    "users.you": "(You)",
    "users.online": "Online",
    "users.admin": "Admin",
    "users.kick": "Kick",
    "users.kickConfirmTitle": "Kick this user?",
    "users.kickConfirmDesc": "They will be removed from the room immediately.",
    "toast.copiedTitle": "Copied",
    "toast.copiedDesc": "Room ID copied to clipboard",
    "toast.joinedTitle": "Joined room",
    "toast.joinedDesc": ({ roomId }) => `Welcome to ${String(roomId)}!`,
    "toast.leftTitle": "Left room",
    "toast.leftDesc": "You are disconnected from the room.",
    "toast.expiredTitle": "Room expired",
    "toast.expiredDesc": "This room has been inactive for over 24 hours and was deleted.",
    "toast.roomUnavailableTitle": "Room unavailable",
    "toast.roomUnavailableDesc": "This room is missing or was reset. Please rejoin.",
    "toast.sentTitle": "Message sent",
    "toast.sentDesc": ({ language }) => `Broadcasting in ${String(language)}`,
    "toast.errorTitle": "Error",
    "toast.joinFailed": "Failed to join the room. Please try again.",
    "toast.passwordRequired": "This room requires a password. Enter it and try again.",
    "toast.passwordInvalid": "Invalid or missing room password.",
    "toast.kickedTitle": "Removed from room",
    "toast.kickedDesc": "You were removed by the room admin.",
    "toast.kickFailed": "Failed to remove user. Please try again.",
    "toast.kickSuccessTitle": "User removed",
    "toast.kickSuccessDesc": "The user has been removed from the room.",
    "toast.roomSettingsSavedTitle": "Room settings saved",
    "toast.roomSettingsSavedDesc": "Join permissions updated.",
    "toast.roomSettingsSaveFailed": "Failed to save room settings. Please try again.",
    "toast.processFailed": "Failed to process your voice. Please try again.",
    "toast.chatClearedTitle": "Chat cleared",
    "toast.chatClearedDesc": "All messages have been removed.",
    "roomSettings.title": "Room settings",
    "roomSettings.desc": "Only the admin can change join permissions.",
    "roomSettings.joinModeLabel": "Join permissions",
    "roomSettings.joinModePublic": "Public join",
    "roomSettings.joinModePublicDesc": "Anyone can join this room",
    "roomSettings.joinModePassword": "Password join",
    "roomSettings.joinModePasswordDesc": "A password is required to join",
    "roomSettings.passwordLabel": "Room password",
    "roomSettings.passwordPlaceholder": "Leave blank to keep current password",
    "roomSettings.save": "Save",
    "roomSettings.saving": "Saving...",
    "settings.title": "Settings",
    "settings.desc": "Customize your MornSpeaker experience",
    "settings.account": "Account",
    "settings.email": "Email",
    "settings.nickname": "Display name",
    "settings.nicknamePlaceholder": "Enter a name",
    "settings.avatar": "Avatar URL (optional)",
    "settings.avatarPlaceholder": "https://...",
    "settings.saveAccount": "Save profile",
    "settings.saving": "Saving...",
    "settings.profileNotLoggedInDesc": "Sign in first to update your account.",
    "settings.nicknameRequiredTitle": "Name required",
    "settings.nicknameRequiredDesc": "Enter a name before saving.",
    "settings.profileSavedTitle": "Saved",
    "settings.profileSavedDesc": "Account updated.",
    "settings.profileSaveFailedTitle": "Save failed",
    "settings.profileSaveFailedDesc": "Please try again later.",
    "settings.password": "Change password",
    "settings.newPassword": "New password",
    "settings.confirmPassword": "Confirm password",
    "settings.updatePassword": "Update password",
    "settings.updatingPassword": "Updating...",
    "settings.notLoggedInTitle": "Not signed in",
    "settings.notLoggedInDesc": "Sign in first to change your password.",
    "settings.passwordTooShortTitle": "Password too short",
    "settings.passwordTooShortDesc": "Password must be at least 6 characters.",
    "settings.passwordMismatchTitle": "Passwords do not match",
    "settings.passwordMismatchDesc": "Make sure both passwords are the same.",
    "settings.passwordUpdatedTitle": "Password updated",
    "settings.passwordUpdatedDesc": "Please sign in again with your new password.",
    "settings.updateFailedTitle": "Update failed",
    "settings.updateFailedDesc": "Please try again later.",
    "settings.appearance": "Appearance",
    "settings.darkMode": "Dark mode",
    "settings.audio": "Audio",
    "settings.autoPlay": "Auto-play translations",
    "settings.speechRate": "Speech rate",
    "settings.speechVolume": "Volume",
    "settings.platform": "Platform",
    "settings.platform.web": "Web",
    "settings.platform.wechat": "WeChat Mini Program",
    "settings.platform.android": "Android",
    "settings.platform.ios": "iOS",
    "settings.platform.desktop": "Desktop",
    "settings.data": "Data",
    "settings.saveHistory": "Save chat history",
    "settings.export": "Export chat history",
    "settings.exportedTitle": "Exported",
    "settings.exportedDesc": "Chat history downloaded.",
    "settings.noDataTitle": "Nothing to export",
    "settings.noDataDesc": "No chat history found.",
    "admin.sidebarTitle": "MornSpeaker Admin",
    "admin.title": "MornSpeaker Admin",
    "admin.overview": "Overview",
    "admin.users": "Users",
    "admin.rooms": "Rooms",
    "admin.ads": "Ads",
    "admin.loginTitle": "Admin sign in",
    "admin.loginDesc": "Enter your email and password",
    "admin.email": "Email",
    "admin.password": "Password",
    "admin.login": "Sign in",
    "admin.loggingIn": "Signing in...",
  },
  ja: {
    "app.name": "MornSpeaker",
    "common.settings": "è¨­å®š",
    "common.logout": "ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ",
    "common.clearChat": "ãƒãƒ£ãƒƒãƒˆã‚’æ¶ˆå»",
    "common.copy": "ã‚³ãƒ”ãƒ¼",
    "common.copied": "ã‚³ãƒ”ãƒ¼æ¸ˆã¿",
    "common.cancel": "ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
    "common.leave": "é€€å‡º",
    "common.roomId": "ãƒ«ãƒ¼ãƒ ID",
    "common.or": "ã¾ãŸã¯",
    "header.subtitle.default": "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°ç¿»è¨³",
    "header.online": ({ count }) => `${Number(count)} äººãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³`,
    "header.messages": ({ count }) => `${Number(count)} ä»¶ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸`,
    "roomJoin.title": "éŸ³å£°ãƒãƒ£ãƒƒãƒˆã«å‚åŠ ",
    "roomJoin.subtitle": "ä¸–ç•Œä¸­ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã¤ãªãŒã‚‹",
    "roomJoin.nicknameLabel": "ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ",
    "roomJoin.nicknamePlaceholder": "ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’å…¥åŠ›",
    "roomJoin.roomIdLabel": "ãƒ«ãƒ¼ãƒ ID",
    "roomJoin.roomIdPlaceholder": "ãƒ«ãƒ¼ãƒ IDã‚’å…¥åŠ›ã¾ãŸã¯æ–°è¦ä½œæˆ",
    "roomJoin.roomIdHelp": "ã“ã®IDã‚’å…±æœ‰ã—ã¦åŒã˜ä¼šè©±ã«å‚åŠ ã§ãã¾ã™",
    "roomJoin.tabJoin": "å‚åŠ ã™ã‚‹",
    "roomJoin.tabCreate": "ä½œæˆã™ã‚‹",
    "roomJoin.join": "å‚åŠ ã™ã‚‹",
    "roomJoin.create": "ä½œæˆã™ã‚‹",
    "roomJoin.quickJoin": "ã‚¯ã‚¤ãƒƒã‚¯å‚åŠ ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ï¼‰",
    "roomJoin.updateNameFailed": "åå‰ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ",
    "roomJoin.retryLater": "å¾Œã§ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„",
    "roomJoin.checkingRoom": "ãƒ«ãƒ¼ãƒ ã‚’ç¢ºèªä¸­...",
    "roomJoin.roomPublic": "å…¬é–‹",
    "roomJoin.roomProtected": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
    "roomJoin.roomWillBeCreated": "ä½œæˆã•ã‚Œã¾ã™",
    "roomJoin.createSettingsTitle": "ä½œæˆè¨­å®š",
    "roomJoin.createSettingsHint": "ãƒ«ãƒ¼ãƒ IDãŒåˆã‚ã¦ä½œæˆã•ã‚Œã‚‹å ´åˆã®ã¿æœ‰åŠ¹ã§ã™",
    "roomJoin.joinModePublic": "å…¬é–‹å‚åŠ ",
    "roomJoin.joinModePublicDesc": "èª°ã§ã‚‚å‚åŠ ã§ãã¾ã™",
    "roomJoin.joinModePassword": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å‚åŠ ",
    "roomJoin.joinModePasswordDesc": "å‚åŠ ã«ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™",
    "roomJoin.passwordLabel": "ãƒ«ãƒ¼ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
    "roomJoin.passwordPlaceholder": "ãƒ«ãƒ¼ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›",
    "roomJoin.createPasswordLabel": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š",
    "roomJoin.createPasswordPlaceholder": "æ–°ã—ã„ãƒ«ãƒ¼ãƒ ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š",
    "language.source": "è‡ªåˆ†ã®è¨€èªï¼ˆè©±ã™/èãï¼‰",
    "language.target": "å¯¾è±¡è¨€èªï¼ˆèãï¼‰",
    "language.hint": ({ source, target }) => `${String(source)} ã§è©±ã—ã¦ã€${String(target)} ã§èã`,
    "chat.empty.title": "ä¼šè©±ã‚’é–‹å§‹",
    "chat.empty.desc": "ãƒã‚¤ã‚¯ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ç¶šã‘ã¦è©±ã—ã¦ãã ã•ã„ã€‚éŸ³å£°ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç¿»è¨³ã•ã‚Œã€ãƒ«ãƒ¼ãƒ å†…ã®ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚",
    "voice.processing": "æ–‡å­—èµ·ã“ã—ã¨ç¿»è¨³ä¸­...",
    "voice.recording": "éŒ²éŸ³ä¸­...",
    "voice.hintRelease": "é›¢ã™ã¨é€ä¿¡ã—ã¾ã™",
    "voice.hintHold": "æŠ¼ã—ãªãŒã‚‰è©±ã™",
    "voice.micPermissionAlert": "éŒ²éŸ³ã‚’é–‹å§‹ã§ãã¾ã›ã‚“ã€‚ãƒã‚¤ã‚¯æ¨©é™ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
    "voice.liveCaptionTitle": "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å­—å¹•",
    "voice.liveTranslationTitle": "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¿»è¨³",
    "voice.liveUnsupported": "ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å­—å¹•ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ï¼ˆé›¢ã™ã¨é€šå¸¸é€šã‚Šé€ä¿¡ã•ã‚Œã¾ã™ï¼‰ã€‚",
    "users.title": ({ count }) => `ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆ${Number(count)}ï¼‰`,
    "users.you": "ï¼ˆã‚ãªãŸï¼‰",
    "users.online": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³",
    "users.admin": "ç®¡ç†è€…",
    "users.kick": "é€€å‡ºã•ã›ã‚‹",
    "users.kickConfirmTitle": "ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’é€€å‡ºã•ã›ã¾ã™ã‹ï¼Ÿ",
    "users.kickConfirmDesc": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç›´ã¡ã«ãƒ«ãƒ¼ãƒ ã‹ã‚‰é€€å‡ºã—ã¾ã™ã€‚",
    "toast.copiedTitle": "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ",
    "toast.copiedDesc": "ãƒ«ãƒ¼ãƒ IDã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ",
    "toast.joinedTitle": "å‚åŠ ã—ã¾ã—ãŸ",
    "toast.joinedDesc": ({ roomId }) => `${String(roomId)} ã¸ã‚ˆã†ã“ãï¼`,
    "toast.leftTitle": "é€€å‡ºã—ã¾ã—ãŸ",
    "toast.leftDesc": "ãƒ«ãƒ¼ãƒ ã‹ã‚‰åˆ‡æ–­ã•ã‚Œã¾ã—ãŸã€‚",
    "toast.expiredTitle": "ãƒ«ãƒ¼ãƒ ã®æœ‰åŠ¹æœŸé™åˆ‡ã‚Œ",
    "toast.expiredDesc": "ã“ã®ãƒ«ãƒ¼ãƒ ã¯24æ™‚é–“ä»¥ä¸Šä¼šè©±ãŒãªã„ãŸã‚å‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚",
    "toast.roomUnavailableTitle": "ãƒ«ãƒ¼ãƒ ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“",
    "toast.roomUnavailableDesc": "ãƒ«ãƒ¼ãƒ ãŒå­˜åœ¨ã—ãªã„ã‹ã€ãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸã€‚å†å‚åŠ ã—ã¦ãã ã•ã„ã€‚",
    "toast.sentTitle": "é€ä¿¡ã—ã¾ã—ãŸ",
    "toast.sentDesc": ({ language }) => `${String(language)} ã§é…ä¿¡ä¸­`,
    "toast.errorTitle": "ã‚¨ãƒ©ãƒ¼",
    "toast.joinFailed": "å‚åŠ ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",
    "toast.passwordRequired": "ã“ã®ãƒ«ãƒ¼ãƒ ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚å…¥åŠ›ã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚",
    "toast.passwordInvalid": "ãƒ«ãƒ¼ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ããªã„ã‹æœªå…¥åŠ›ã§ã™ã€‚",
    "toast.processFailed": "éŸ³å£°ã®å‡¦ç†ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",
    "toast.chatClearedTitle": "æ¶ˆå»ã—ã¾ã—ãŸ",
    "toast.chatClearedDesc": "ã™ã¹ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚",
    "settings.title": "è¨­å®š",
    "settings.desc": "MornSpeaker ã®ä½“é¨“ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º",
    "settings.account": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ",
    "settings.email": "ãƒ¡ãƒ¼ãƒ«",
    "settings.nickname": "è¡¨ç¤ºå",
    "settings.nicknamePlaceholder": "è¡¨ç¤ºåã‚’å…¥åŠ›",
    "settings.avatar": "ã‚¢ãƒã‚¿ãƒ¼URLï¼ˆä»»æ„ï¼‰",
    "settings.avatarPlaceholder": "https://...",
    "settings.saveAccount": "ä¿å­˜",
    "settings.saving": "ä¿å­˜ä¸­...",
    "settings.profileNotLoggedInDesc": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã®å¤‰æ›´ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚",
    "settings.nicknameRequiredTitle": "åå‰ãŒå¿…è¦ã§ã™",
    "settings.nicknameRequiredDesc": "ä¿å­˜ã™ã‚‹å‰ã«åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
    "settings.profileSavedTitle": "ä¿å­˜ã—ã¾ã—ãŸ",
    "settings.profileSavedDesc": "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚",
    "settings.profileSaveFailedTitle": "ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ",
    "settings.profileSaveFailedDesc": "å¾Œã§ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚",
    "settings.password": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´",
    "settings.newPassword": "æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
    "settings.confirmPassword": "ç¢ºèª",
    "settings.updatePassword": "æ›´æ–°",
    "settings.updatingPassword": "æ›´æ–°ä¸­...",
    "settings.notLoggedInTitle": "æœªãƒ­ã‚°ã‚¤ãƒ³",
    "settings.notLoggedInDesc": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€‚",
    "settings.passwordTooShortTitle": "çŸ­ã™ãã¾ã™",
    "settings.passwordTooShortDesc": "6æ–‡å­—ä»¥ä¸Šã«ã—ã¦ãã ã•ã„ã€‚",
    "settings.passwordMismatchTitle": "ä¸€è‡´ã—ã¾ã›ã‚“",
    "settings.passwordMismatchDesc": "åŒã˜ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚",
    "settings.passwordUpdatedTitle": "æ›´æ–°ã—ã¾ã—ãŸ",
    "settings.passwordUpdatedDesc": "æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§å†ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚",
    "settings.updateFailedTitle": "æ›´æ–°å¤±æ•—",
    "settings.updateFailedDesc": "ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ãŠè©¦ã—ãã ã•ã„ã€‚",
    "settings.appearance": "å¤–è¦³",
    "settings.darkMode": "ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰",
    "settings.audio": "éŸ³å£°",
    "settings.autoPlay": "è‡ªå‹•å†ç”Ÿ",
    "settings.speechRate": "é€Ÿåº¦",
    "settings.speechVolume": "éŸ³é‡",
    "settings.platform": "ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ",
    "settings.platform.web": "Web",
    "settings.platform.wechat": "WeChat ãƒŸãƒ‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ",
    "settings.platform.android": "Android",
    "settings.platform.ios": "iOS",
    "settings.platform.desktop": "ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—",
    "settings.data": "ãƒ‡ãƒ¼ã‚¿",
    "settings.saveHistory": "å±¥æ­´ã‚’ä¿å­˜",
    "settings.export": "å±¥æ­´ã‚’æ›¸ãå‡ºã—",
    "settings.exportedTitle": "æ›¸ãå‡ºã—ã¾ã—ãŸ",
    "settings.exportedDesc": "å±¥æ­´ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸã€‚",
    "settings.noDataTitle": "ãƒ‡ãƒ¼ã‚¿ãªã—",
    "settings.noDataDesc": "å±¥æ­´ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚",
    "admin.sidebarTitle": "MornSpeaker ç®¡ç†",
    "admin.title": "MornSpeaker ç®¡ç†",
    "admin.overview": "æ¦‚è¦",
    "admin.users": "ãƒ¦ãƒ¼ã‚¶ãƒ¼",
    "admin.rooms": "ãƒ«ãƒ¼ãƒ ",
    "admin.ads": "åºƒå‘Š",
    "admin.loginTitle": "ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³",
    "admin.loginDesc": "ãƒ¡ãƒ¼ãƒ«ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›",
    "admin.email": "ãƒ¡ãƒ¼ãƒ«",
    "admin.password": "å¯†ç ",
    "admin.login": "ãƒ­ã‚°ã‚¤ãƒ³",
    "admin.loggingIn": "ãƒ­ã‚°ã‚¤ãƒ³ä¸­...",
  },
}

const FALLBACK_LOCALE: UiLocale = "en"

function defaultLocale(): UiLocale {
  return FALLBACK_LOCALE
}

export function normalizeLocale(value: unknown): UiLocale {
  if (value === "zh" || value === "en" || value === "ja" || value === "es" || value === "fr" || value === "de" || value === "ko" || value === "pt") {
    return value
  }
  if (typeof value === "string") {
    const lower = value.toLowerCase()
    if (lower === "zh-cn" || lower === "zh-hans" || lower.startsWith("zh")) return "zh"
    if (lower.startsWith("en")) return "en"
    if (lower.startsWith("ja")) return "ja"
    if (lower.startsWith("es")) return "es"
    if (lower.startsWith("fr")) return "fr"
    if (lower.startsWith("de")) return "de"
    if (lower.startsWith("ko")) return "ko"
    if (lower.startsWith("pt")) return "pt"
  }
  return defaultLocale()
}

export function getMessage(locale: UiLocale, key: string): MessageValue | undefined {
  const fallbackMessages = messages[FALLBACK_LOCALE]
  return messages[locale]?.[key] ?? fallbackMessages?.[key]
}

export function translate(locale: UiLocale, key: string, params: Record<string, unknown> = {}): string {
  const msg = getMessage(locale, key)
  if (typeof msg === "function") return msg(params)
  if (typeof msg === "string") return msg
  return key
}

export function getHtmlLang(locale: string): string {
  const normalized = String(locale || "").trim()
  if (!normalized) return "zh-CN"
  if (/^zh\b/i.test(normalized)) return normalized.includes("-") ? normalized : "zh-CN"
  if (/^en\b/i.test(normalized)) return normalized.includes("-") ? normalized : "en-US"
  return normalized
}
